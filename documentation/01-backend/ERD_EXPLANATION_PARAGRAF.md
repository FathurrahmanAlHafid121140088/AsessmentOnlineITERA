# Penjelasan ERD Sistem Asesmen Kesehatan Mental - Format Paragraf

## Gambaran Umum Sistem

Sistem asesmen kesehatan mental ini dirancang untuk membantu universitas dalam melakukan screening dan monitoring kondisi kesehatan mental mahasiswa. Database yang dibangun menggunakan MySQL dengan struktur yang terorganisir dan efisien. Terdapat enam tabel utama yang saling berhubungan, yaitu admins, users, data_diris, riwayat_keluhans, hasil_kuesioners, dan mental_health_jawaban_details. Setiap tabel memiliki peran spesifik dalam mendukung alur kerja sistem, mulai dari manajemen pengguna hingga penyimpanan hasil asesmen secara detail. Struktur database ini mengikuti prinsip normalisasi untuk menghindari duplikasi data dan memudahkan proses maintenance di masa mendatang.

---

## Tabel admins - Pengelola Sistem

Tabel admins berfungsi sebagai repository data untuk administrator yang mengelola sistem asesmen kesehatan mental. Setiap record dalam tabel ini merepresentasikan satu akun admin yang memiliki akses penuh terhadap sistem. Tabel ini memiliki beberapa atribut penting, dimulai dari kolom id yang berperan sebagai primary key dengan tipe data bigint dan auto increment, sehingga setiap admin mendapat nomor identitas unik secara otomatis. Kolom username dan email keduanya memiliki constraint unique yang berarti tidak boleh ada dua admin dengan username atau email yang sama, hal ini penting untuk mencegah konflik saat login. Password disimpan dalam bentuk hash menggunakan algoritma bcrypt dengan panjang 255 karakter untuk menjaga keamanan, sehingga meskipun database bocor, password asli tetap aman. Kolom remember_token dengan panjang 100 karakter bersifat opsional dan digunakan untuk fitur "remember me" saat login, memungkinkan admin tetap login meskipun browser ditutup. Tabel ini juga dilengkapi dengan kolom created_at dan updated_at yang secara otomatis mencatat kapan data admin dibuat dan terakhir diperbarui. Tabel admins bersifat independen dan tidak memiliki relasi foreign key ke tabel lain, karena memang fungsinya murni untuk autentikasi dan otorisasi pengelola sistem.

---

## Tabel users - Akun Mahasiswa

Tabel users dirancang khusus untuk menyimpan data akun mahasiswa yang akan mengikuti asesmen kesehatan mental. Berbeda dengan tabel admins, tabel users memiliki fleksibilitas lebih tinggi karena mendukung dua metode autentikasi, yaitu login konvensional menggunakan username dan password, serta login modern menggunakan Google Single Sign-On (SSO). Struktur tabel dimulai dengan kolom id sebagai primary key bertipe bigint yang auto increment. Kolom name menyimpan nama lengkap mahasiswa dengan panjang maksimal 255 karakter. Kolom email harus unik karena digunakan sebagai identifier utama saat login, terutama untuk fitur Google SSO. Yang menarik dari tabel ini adalah kolom nim (Nomor Induk Mahasiswa) bersifat nullable atau boleh kosong, hal ini memungkinkan mahasiswa untuk login terlebih dahulu menggunakan akun Google mereka, baru kemudian melengkapi data NIM di tahap berikutnya. Kolom google_id juga nullable dan unique, menyimpan identifier unik dari Google untuk mahasiswa yang login menggunakan akun Google mereka. Kolom password menyimpan hash bcrypt dari password mahasiswa jika mereka memilih login konvensional. Tabel ini juga memiliki kolom email_verified_at untuk menandai apakah email sudah diverifikasi, serta remember_token untuk fitur "ingat saya". Meskipun tabel users menyimpan data mahasiswa, ia tidak memiliki relasi langsung ke tabel lain dalam diagram ERD, karena data profil lengkap mahasiswa disimpan secara terpisah di tabel data_diris dengan NIM sebagai penghubungnya.

---

## Tabel data_diris - Profil Lengkap Mahasiswa

Tabel data_diris merupakan jantung dari sistem karena menyimpan seluruh informasi profil mahasiswa secara komprehensif. Tabel ini berperan sebagai master data yang dirujuk oleh banyak tabel lain dalam sistem. Kolom id bertipe bigint berfungsi sebagai primary key dengan auto increment. Yang paling krusial adalah kolom nim bertipe bigint yang memiliki constraint unique, artinya setiap mahasiswa hanya boleh memiliki satu record data diri dengan NIM yang sama, mencegah duplikasi data. Kolom nama menyimpan nama lengkap mahasiswa dan bersifat wajib diisi (not null). Kolom jenis_kelamin menggunakan tipe data enum dengan dua nilai yang diperbolehkan yaitu 'L' untuk Laki-laki dan 'P' untuk Perempuan, penggunaan enum ini memastikan konsistensi data dan mencegah input yang tidak valid. Kolom provinsi menyimpan informasi provinsi asal mahasiswa yang berguna untuk analisis demografis. Alamat disimpan dalam tipe data text karena bisa jadi sangat panjang, sementara usia menggunakan tipe integer untuk menyimpan umur mahasiswa dalam tahun. Kolom fakultas dan program_studi sangat penting untuk keperluan analisis statistik, misalnya untuk mengetahui fakultas atau prodi mana yang mahasiswanya paling banyak mengalami masalah kesehatan mental. Kolom asal_sekolah mencatat nama SMA atau SMK asal mahasiswa, sementara status_tinggal mencatat apakah mahasiswa tinggal di kost, rumah sendiri, atau asrama, yang bisa menjadi faktor penting dalam analisis kesehatan mental. Email di tabel ini mungkin berbeda dengan email di tabel users jika mahasiswa menggunakan email institusi yang berbeda. Tabel data_diris memiliki dua relasi one-to-many yang sangat penting, yaitu ke tabel riwayat_keluhans dan hasil_kuesioners, dimana satu mahasiswa bisa memiliki banyak riwayat keluhan dan banyak hasil kuesioner karena mahasiswa bisa mengikuti tes berkali-kali untuk monitoring perkembangan kondisi mental mereka.

---

## Tabel riwayat_keluhans - Catatan Keluhan Mental

Tabel riwayat_keluhans berfungsi untuk mendokumentasikan setiap keluhan atau masalah kesehatan mental yang pernah dialami dan dilaporkan oleh mahasiswa. Tabel ini sangat berguna bagi psikolog atau konselor untuk memahami latar belakang kondisi mahasiswa sebelum menganalisis hasil tes. Struktur tabel dimulai dengan kolom id sebagai primary key yang auto increment. Kolom nim bertipe bigint merupakan foreign key yang merujuk ke kolom nim di tabel data_diris, dengan constraint on delete cascade yang berarti jika data mahasiswa dihapus dari tabel data_diris, maka semua riwayat keluhannya akan ikut terhapus secara otomatis untuk menjaga integritas data. Kolom keluhan menggunakan tipe data text karena mahasiswa bisa menuliskan deskripsi keluhan mereka dengan sangat detail dan panjang, misalnya "Sejak tiga bulan terakhir saya sering merasa cemas berlebihan ketika menghadapi ujian, disertai dengan gejala fisik seperti jantung berdebar, tangan berkeringat, dan sulit tidur di malam sebelum ujian". Kolom lama_keluhan bertipe varchar menyimpan informasi berapa lama keluhan sudah dirasakan dalam format teks bebas seperti "2 bulan", "1 tahun", atau "sejak semester 3". Kolom pernah_konsul dan pernah_tes keduanya menggunakan tipe enum dengan nilai 'Ya' atau 'Tidak', untuk mencatat apakah mahasiswa pernah berkonsultasi dengan psikolog atau pernah mengikuti tes psikologi sebelumnya, informasi ini penting untuk menentukan apakah mahasiswa adalah kasus baru atau sudah pernah mendapat penanganan. Relasi many-to-one dari tabel ini ke data_diris memungkinkan satu mahasiswa memiliki banyak record keluhan yang diinput di waktu berbeda, sehingga ada tracking histori perkembangan keluhan dari waktu ke waktu.

---

## Tabel hasil_kuesioners - Ringkasan Hasil Tes MHI-38

Tabel hasil_kuesioners menyimpan ringkasan hasil dari kuesioner MHI-38 (Mental Health Inventory-38) yang dikerjakan oleh mahasiswa. MHI-38 adalah instrumen standar internasional untuk mengukur kesehatan mental yang terdiri dari 38 pertanyaan dengan skala jawaban 1 sampai 6. Tabel ini memiliki kolom id sebagai primary key yang auto increment. Kolom nim bertipe bigint adalah foreign key yang merujuk ke data_diris.nim dengan constraint cascade delete, artinya jika mahasiswa dihapus, semua hasil tesnya juga akan terhapus. Kolom total_skor bertipe integer menyimpan jumlah total skor dari 38 pertanyaan, dengan rentang nilai teoritis dari 38 (jika semua soal dijawab 1) hingga 228 (jika semua soal dijawab 6), semakin tinggi skor menunjukkan kondisi kesehatan mental yang lebih baik. Kolom kategori bertipe varchar menyimpan klasifikasi hasil berdasarkan total_skor, dengan lima kategori yaitu "Sangat Buruk" untuk skor 38-76 yang mengindikasikan kondisi kritis yang membutuhkan intervensi segera, "Buruk" untuk skor 77-114 yang menunjukkan mahasiswa perlu mendapat konseling, "Cukup" untuk skor 115-152 yang berarti perlu monitoring rutin, "Baik" untuk skor 153-190 yang menunjukkan kondisi mental sehat, dan "Sangat Baik" untuk skor 191-228 yang mengindikasikan kondisi mental sangat sehat dengan resiliensi tinggi terhadap stres. Kolom tanggal_pengerjaan bertipe timestamp mencatat kapan tepatnya mahasiswa mengerjakan tes, informasi ini penting untuk tracking progress jika mahasiswa mengikuti tes berkali-kali. Tabel ini memiliki dua relasi penting, pertama adalah relasi many-to-one ke data_diris yang memungkinkan satu mahasiswa memiliki banyak hasil tes untuk tracking perkembangan dari waktu ke waktu, dan kedua adalah relasi one-to-many ke mental_health_jawaban_details dimana setiap satu hasil tes akan memiliki tepat 38 record detail jawaban untuk 38 soal yang dijawab.

---

## Tabel mental_health_jawaban_details - Detail Jawaban Per Soal

Tabel mental_health_jawaban_details merupakan tabel detail yang menyimpan jawaban mahasiswa untuk setiap soal dalam kuesioner MHI-38 secara granular. Jika tabel hasil_kuesioners menyimpan ringkasan atau summary, maka tabel ini menyimpan raw data atau data mentah jawaban per item soal. Tabel ini sangat penting untuk analisis mendalam karena dari data detail ini dapat dilakukan breakdown analisis per dimensi psikologi seperti tingkat kecemasan, depresi, kehilangan kontrol emosi, afek positif, dan ikatan emosional. Struktur tabel dimulai dengan kolom id sebagai primary key yang auto increment. Kolom hasil_kuesioner_id bertipe bigint merupakan foreign key yang merujuk ke hasil_kuesioners.id dengan constraint cascade delete, sehingga ketika hasil kuesioner dihapus, semua detail jawabannya juga akan ikut terhapus untuk menjaga konsistensi database. Kolom nomor_soal bertipe integer menyimpan nomor soal dari 1 hingga 38, merepresentasikan urutan pertanyaan dalam kuesioner MHI-38. Kolom skor bertipe integer menyimpan nilai jawaban mahasiswa untuk soal tersebut dengan rentang 1 sampai 6, dimana angka 1 biasanya merepresentasikan "Tidak Pernah" atau "Sangat Tidak Setuju" dan angka 6 merepresentasikan "Selalu" atau "Sangat Setuju", tergantung dari jenis pertanyaannya. Yang menarik dari tabel ini adalah adanya constraint unique pada kombinasi kolom hasil_kuesioner_id dan nomor_soal, hal ini memastikan bahwa untuk satu hasil tes tertentu, setiap nomor soal hanya bisa dijawab sekali, mencegah duplikasi jawaban yang bisa mengacaukan perhitungan total skor. Dalam praktiknya, ketika seorang mahasiswa menyelesaikan satu tes MHI-38, sistem akan membuat satu record di tabel hasil_kuesioners dan tepat 38 record di tabel mental_health_jawaban_details. Data detail ini sangat berguna untuk analisis lanjutan, misalnya untuk mengidentifikasi soal-soal mana yang paling sering dijawab rendah oleh mahasiswa dari fakultas tertentu, atau untuk menghitung skor per dimensi psikologi dengan cara mengelompokkan soal-soal yang termasuk dalam dimensi yang sama.

---

## Relasi dan Integritas Data

Keseluruhan struktur database ini dirancang dengan memperhatikan integritas referensial melalui penggunaan foreign key constraints yang konsisten. Tabel data_diris berperan sebagai tabel master atau parent yang menjadi acuan bagi tabel-tabel lain, menciptakan hirarki data yang jelas dimana mahasiswa adalah entitas pusat yang memiliki keluhan dan hasil tes. Penggunaan cascade delete pada semua foreign key memastikan bahwa tidak akan ada orphan records atau data yatim piatu yang merujuk ke data yang sudah tidak ada, sehingga database tetap bersih dan konsisten. Relasi one-to-many yang dominan dalam struktur ini mencerminkan realitas bahwa satu mahasiswa dapat memiliki banyak interaksi dengan sistem dalam bentuk keluhan yang berulang atau tes yang dilakukan berkali-kali untuk monitoring. Pemisahan antara tabel hasil_kuesioners dan mental_health_jawaban_details mengikuti prinsip normalisasi database dimana data ringkasan dan data detail dipisahkan untuk efisiensi storage dan query performance. Struktur ini juga memudahkan untuk melakukan berbagai jenis analisis, mulai dari yang sederhana seperti menghitung berapa persen mahasiswa yang masuk kategori "Buruk", hingga analisis kompleks seperti trend perkembangan kesehatan mental mahasiswa dari semester ke semester, atau perbandingan kondisi mental antar fakultas dan program studi. Index yang diterapkan pada kolom-kolom kunci seperti nim, fakultas, program_studi, dan kategori memastikan bahwa query-query analitis dapat berjalan dengan cepat meskipun data sudah mencapai ribuan atau puluhan ribu record. Secara keseluruhan, desain database ini balance antara normalisasi untuk menghindari redundansi data, dan denormalisasi strategis pada beberapa bagian untuk meningkatkan performa query reporting.
